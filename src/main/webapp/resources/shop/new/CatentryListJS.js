var CatentryListJS={listUrl:"",pageSize:24,orderBy:1,facetId:new Array,facetName:new Array,facetNameValue:new Array,facetvalue:new Array,pageNumber:1,totalCount:0,totalPageSize:0,data:{},sortId:"",sortValue1:"1",sortValue2:"3",sortValue3:"5",sortValue4:"7",pageNum:1,sortpriceType:"asc",cityId:"-1",showpart:"",doHide:"",reloadURL:"",facetKey:new Array,nowCity:"",initURL:function(){var B=(parseInt(this.pageNumber,10)-1)*this.pageSize;var E=this.listUrl.substr(this.listUrl.indexOf("?")+1);var D=E.split("&");var C="";for(var A=0;A<D.length;A++){if(D[A].indexOf("pageSize")>-1||D[A].indexOf("pageNumber")>-1||D[A].indexOf("orderBy")>-1||D[A].indexOf("facet")>-1||D[A].indexOf("beginIndex")>-1||D[A].indexOf("cityInventory")>-1||D[A].indexOf('"nowCity"')>-1){}else{C=C+"&"+D[A]}}C=C+"&nowCity="+this.nowCity;C=C+"&pageSize="+this.pageSize;C=C+"&pageNumber="+this.pageNumber;C=C+"&orderBy="+((this.orderBy=="5"||this.orderBy=="4")?(this.orderBy=="5"?4:5):this.orderBy);C=C+"&beginIndex="+B;if(this.cityId!=null&&this.cityId!=""){C=C+"&cityInventory="+this.cityId}if(this.facetId!=null&&this.facetId.length>0){for(var A=0;A<this.facetId.length;A++){C=C+"&facet="+encodeURI(this.facetId[A])}}return C.substr(1)},switch_page:function(A){shoppingActionsJS.hideCompareDiv();var B=this.listUrl;B=B.indexOf("?")>-1?B:B+"?";B=B+this.initURL();$.ajax({type:"GET",url:B,data:{},dataType:"text",success:A})},changePage:function(A){this.pageNumber=A;this.switch_page(this.showList)},sortByParames:function(B,A){$("#sortDL dd").each(function(){$(this).removeClass()});this.orderBy=B;this.pageNumber=1;$("#"+$(A).attr("id")+"_dd").addClass("curr down");this.switch_page(this.showSortList)},sortByPrice:function(A){$("#sortDL dd").each(function(){$(this).removeClass()});if(this.orderBy!=4&&this.orderBy!=5){this.orderBy=4;$("#"+$(A).attr("id")+"_dd").addClass("curr down")}else{if(this.orderBy==4){this.orderBy=5;this.sortpriceType="desc";$("#"+$(A).attr("id")+"_dd").addClass("curr up")}else{this.orderBy=4;this.sortpriceType="desc";$("#"+$(A).attr("id")+"_dd").addClass("curr down")}}this.pageNumber=1;this.switch_page(this.showSortList)},showList:function(B,A){$("#catalogEntryList_widget").html(B)},showSortList:function(B,A){$("#catalogEntryList_widget").html(B)},failterByFacet:function(F,B,D){this.doHide="";var E=$(B).attr("id");if($(B).attr("class")=="active"){return false}var C=E.split("_")[1];for(var A=0;A<this.facetName.length;A++){if(C==this.facetName[A]){this.facetNameValue[A]=D;this.facetvalue[A]=F}}this.facetId=new Array;for(var A=0;A<this.facetName.length;A++){if(this.facetvalue[A]!="0"){this.facetId.push(this.facetvalue[A])}}this.pageNum=1;this.orderBy=1;$(B).addClass("active");this.switch_page(this.showFacetList)},showFacetList:function(B,A){$("#catalogEntryList_widget").html(B)},removeSortType:function(){var B=$("a[name='sortType']");if(B.length>0){for(var A=0;A<B.length;A++){$(B[A]).removeClass()}}CategoryNavigationResults.sortValue1="1";CategoryNavigationResults.sortValue1="3";CategoryNavigationResults.sortValue1="5";CategoryNavigationResults.sortValue1="7"},addSortType:function(D,A){var C=$("a[name='sortType']")[D];var B="";if(A%2==0){B="down"}else{B="up"}$(C).addClass("curr "+B)},restFacetKey:function(){var B=$('a[xType="facetType"]');if(B.length>0){for(var A=0;A<B.length;A++){$(B[A]).removeClass();if(B[A].id.split("_")[2]==0){$(B[A]).attr("class","active")}}}},showAllFacet:function(){$("#showAllFacet").hide();$("#showPartFacet").show();$(".screenCon dl").slice(4,$(".screenCon dl").length).slideDown(250);this.showpart="1"},showPartFacet:function(){$(".showPart").hide();$(".showAll").show();$(".screenCon dl").slice(4,$(".screenCon dl").length).slideUp(250);this.showpart="0"},initPage:function(A){this.setFacetMenu();this.setSortproperty();this.initFacetLayout();if(A>0){$("#sortAndChange_div").show()}else{if(this.doHide!=null&&this.doHide!=""){$("#sortAndChange_div").show()}else{$("#sortAndChange_div").hide()}}if(this.cityId=="-1"){$("#showYou").attr("checked",false)}else{$("#showYou").attr("checked",true)}},setSortproperty:function(){$("#sortDL dd").each(function(){$(this).removeClass()});if(this.orderBy=="1"){$("#salesAmount_dd").addClass("curr down")}else{if(this.orderBy=="2"){$("#commentAmount_dd").addClass("curr down")}else{if(this.orderBy=="3"){$("#publishTime_dd").addClass("curr down")}else{if(this.orderBy=="4"){$("#price_dd").addClass("curr down")}else{$("#price_dd").addClass("curr up")}}}}},setPageSizeUpLab:function(A,B){$("#totalCountSpan").text(this.totalCount)},setFacetMenu:function(){$(".active").each(function(){$(this).removeClass("active")});if(this.facetName!=null&&this.facetName.length>0){for(var A=0;A<this.facetName.length;A++){$("#dl_"+this.facetName[A]+"_"+this.facetNameValue[A]).addClass("active")}}},showAddressDialog:function(A){if(A=="s"){$("#changeAddress").show()}else{$("#changeAddress").hide()}},initFacetLayout:function(){if(this.showpart==null||this.showpart==""){if($(".screenCon dl").length>4){this.showPartFacet()}else{this.showAllFacet()}}},showHaveInventory:function(A){this.doHide="1";if($("#showYou").attr("checked")=="checked"){this.cityId=A}else{this.cityId="-1"}this.pageNumber=1;this.switch_page(this.showHaveInventoryList)},showHaveInventoryList:function(A){$("#catalogEntryList_widget").html(A)},changeInventory:function(A){this.orderBy=1;this.pageNumber=1;this.nowCity=A;this.switch_page(this.showchangeInventoryList)},showchangeInventoryList:function(A){$("#catalogEntryList_widget").html(A)}};